(()=>{"use strict";const t=t=>document.querySelector(t),e=t=>Number(Math.round(t+"e2")+"e-2"),n=(t,e="en-us")=>Intl.NumberFormat(e).format(t);(()=>{const o=t("#calculate-mortgage-payment");if(!o)return;const r=t("#mortgage-length"),s=t("#interest-rate"),c=t("#amount"),l=t("#paymentsPerYear");t("#resultSection"),o.addEventListener("submit",(t=>{t.preventDefault();const o=r.valueAsNumber,a=s.valueAsNumber/100,T=c.valueAsNumber,u=Number(l.value),i=o*u,h=a/u;console.log(323);const E=e((t=>{const{LOAN_AMOUNT:e,TOTAL_PERIODS:n,INTEREST_RATE_PER_PERIOD:o}=t;return e*(o*(1+o)**n)/((1+o)**n-1)})({LOAN_AMOUNT:T,TOTAL_PERIODS:i,INTEREST_RATE_PER_PERIOD:h})),P=(t=>{const{LOAN_AMOUNT:n,ANNUAL_INTEREST_RATE:o,PAYMENTS_PER_YEAR:r,TOTAL_PERIODS:s,PMT:c}=t;let l=[],a=0,T=0,u=n;for(let t=1;t<=s;t++)u=u-T-0,a=u*o/r,T=c-a,l.push({Period:t,PMT:e(c),Interest:e(a),Principal:e(T),Loan:e(u)});return l})({LOAN_AMOUNT:T,ANNUAL_INTEREST_RATE:a,YEARS:o,PAYMENTS_PER_YEAR:u,TOTAL_PERIODS:i,PMT:E});var A;A=P,resultSection.innerHTML="",resultSection.innerHTML=`\n    <p>You will need to make <strong>${A.length}</strong> payments of <strong>${n(A[0].PMT)}</strong> €.</p>\n    <table class="table table-hover text-center">\n      <thead>\n        <tr>\n          <th scope="col">Payment Number</th>\n          <th scope="col">Payment (€)</th>\n          <th scope="col">Interest (€)</th>\n          <th scope="col">Principal (€)</th>\n          <th scope="col">Loan (€)</th>\n        </tr>\n      </thead>\n      <tbody>\n      \n      ${A.map((t=>`\n        <tr>\n          <td>${t.Period}</td>\n          <td>${n(t.PMT)}</td>\n          <td>${n(t.Interest)}</td>\n          <td>${n(t.Principal)}</td>\n          <td>${n(t.Loan)}</td>\n        </tr>\n      `)).join("")}\n        \n      <tfoot>\n        <tr>\n          <th scope="col">Payment Number</th>\n          <th scope="col">Payment (€)</th>\n          <th scope="col">Interest (€)</th>\n          <th scope="col">Principal (€)</th>\n          <th scope="col">Loan (€)</th>\n        </tr>\n      </tfoot>\n    </tbody>\n  </table>\n  </section>\n  `,((t,e={})=>{const n={topMargin:10,...e},{topMargin:o}=n,r=document.getElementById(t);if(!r)throw new Error(`No element with id ${t} was found.`);window.scroll(0,function(t){let e=0;if(t.offsetParent){do{e+=t.offsetTop}while(t=t.offsetParent);return[e]-o}}(r))})("resultTitle")}))})()})();