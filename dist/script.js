(()=>{"use strict";const t=t=>document.querySelector(t),e=t=>Number(Math.round(t+"e2")+"e-2"),n=(t,e="en-us")=>Intl.NumberFormat(e).format(t);(()=>{const o=t("#calculate-mortgage-payment");if(!o)return;const r=t("#mortgage-length"),s=t("#interest-rate"),a=t("#amount"),c=t("#paymentsPerYear");o.addEventListener("submit",(o=>{o.preventDefault();const l=r.valueAsNumber,T=s.valueAsNumber/100,u=a.valueAsNumber,i=Number(c.value),h=l*i,E=e((t=>{const{LOAN_AMOUNT:e,TOTAL_PERIODS:n,INTEREST_RATE_PER_PERIOD:o}=t;return e*(o*(1+o)**n)/((1+o)**n-1)})({LOAN_AMOUNT:u,TOTAL_PERIODS:h,INTEREST_RATE_PER_PERIOD:T/i})),P=(t=>{const{LOAN_AMOUNT:n,ANNUAL_INTEREST_RATE:o,PAYMENTS_PER_YEAR:r,TOTAL_PERIODS:s,PMT:a}=t;let c=[],l=0,T=0,u=n;for(let t=1;t<=s;t++)u=u-T-0,l=u*o/r,T=a-l,c.push({Period:t,PMT:e(a),Interest:e(l),Principal:e(T),Loan:e(u)});return c})({LOAN_AMOUNT:u,ANNUAL_INTEREST_RATE:T,YEARS:l,PAYMENTS_PER_YEAR:i,TOTAL_PERIODS:h,PMT:E});(e=>{const o=t("#resultSection");o.innerHTML="",o.innerHTML=`\n    <p>You will need to make <strong>${e.length}</strong> payments of <strong>${n(e[0].PMT)}</strong> €.</p>\n    <table class="table table-hover text-center">\n      <thead>\n        <tr>\n          <th scope="col">Payment Number</th>\n          <th scope="col">Payment (€)</th>\n          <th scope="col">Interest (€)</th>\n          <th scope="col">Principal (€)</th>\n          <th scope="col">Loan (€)</th>\n        </tr>\n      </thead>\n      <tbody>\n      \n      ${e.map((t=>`\n        <tr>\n          <td>${t.Period}</td>\n          <td>${n(t.PMT)}</td>\n          <td>${n(t.Interest)}</td>\n          <td>${n(t.Principal)}</td>\n          <td>${n(t.Loan)}</td>\n        </tr>\n      `)).join("")}\n        \n      <tfoot>\n        <tr>\n          <th scope="col">Payment Number</th>\n          <th scope="col">Payment (€)</th>\n          <th scope="col">Interest (€)</th>\n          <th scope="col">Principal (€)</th>\n          <th scope="col">Loan (€)</th>\n        </tr>\n      </tfoot>\n    </tbody>\n  </table>\n  </section>\n  `})(P),((t,e={})=>{const n={topMargin:10,...e},{topMargin:o}=n,r=document.getElementById(t);if(!r)throw new Error(`No element with id ${t} was found.`);window.scroll(0,function(t){let e=0;if(t.offsetParent){do{e+=t.offsetTop}while(t=t.offsetParent);return[e]-o}}(r))})("resultTitle")}))})()})();